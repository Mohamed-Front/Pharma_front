import{a2 as Y,u as Z,a as H,z as K,r as k,Y as $,o as Q,c as M,d as W,e as i,h as l,g as t,t as n,Z as p,$ as g,A as m,C as c,ae as X,F as ee,y as te,D as _,B as S,i as re,b as T,_ as ae}from"./index-2cd76906.js";const oe={class:"min-h-screen my-3 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center"},se={class:"w-full max-w-5xl bg-white rounded-2xl p-8"},ne={class:"text-3xl font-bold text-center text-gray-800 mb-8 bg-gradient-to-r from-green-500 to-teal-500 bg-clip-text text-transparent"},ie={key:0,class:"space-y-8"},le={class:"grid gap-6 lg:grid-cols-2 grid-cols-1"},de={class:"relative"},ce={for:"pharmacyName",class:"block text-sm font-medium text-gray-700 mb-1"},ue={key:0,class:"text-red-500 mt-1 block"},me={class:"relative"},pe={for:"country",class:"block text-sm font-medium text-gray-700 mb-1"},ge={key:0,class:"text-red-500 mt-1 block"},_e={class:"relative"},fe={for:"city",class:"block text-sm font-medium text-gray-700 mb-1"},be=["value"],ye={key:0,class:"text-red-500 mt-1 block"},he={class:"relative"},ve={for:"address",class:"block text-sm font-medium text-gray-700 mb-1"},xe={key:0,class:"text-red-500 mt-1 block"},we={class:"relative"},ke={for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},$e={key:0,class:"text-red-500 mt-1 block"},qe={class:"relative"},Ce={for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},Ve={key:0,class:"text-red-500 mt-1 block"},De={class:"relative"},Ie={for:"passwordConfirmation",class:"block text-sm font-medium text-gray-700 mb-1"},Pe={key:0,class:"text-red-500 mt-1 block"},Ne={class:"relative"},Ue={for:"nationalIdNumber",class:"block text-sm font-medium text-gray-700 mb-1"},je={key:0,class:"text-red-500 mt-1 block"},Fe={class:"relative"},Ge={for:"licenseNumber",class:"block text-sm font-medium text-gray-700 mb-1"},Be={key:0,class:"text-red-500 mt-1 block"},Me={class:"relative"},Se={for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},Te={key:0,class:"text-red-500 mt-1 block"},ze={key:0,class:"space-y-6"},Ee={class:"text-xl font-semibold text-gray-800 bg-gradient-to-r from-green-500 to-teal-500 bg-clip-text text-transparent"},Le={class:"w-full h-80 rounded-lg overflow-hidden shadow-md"},Ae=["src"],Re={class:"space-y-6"},Je={class:"text-xl font-semibold text-gray-800 bg-gradient-to-r from-green-500 to-teal-500 bg-clip-text text-transparent"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ye={class:"block text-sm font-medium text-center text-gray-700 mb-1"},Ze={key:0,class:"p-4"},He={class:"relative group"},Ke=["src"],Qe={class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 rounded-lg group-hover:bg-opacity-40 transition-all duration-300"},We={class:"space-x-3 transform translate-y-4 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300"},Xe={class:"mt-2 text-sm text-center text-gray-500"},et={key:1,class:"flex flex-col items-center justify-center h-full p-4"},tt={class:"mb-1 text-sm text-center text-gray-600"},rt={class:"font-medium text-green-500"},at={key:0,class:"text-red-500 mt-1 block"},ot={class:"block text-sm text-center font-medium text-gray-700 mb-1"},st={key:0,class:"p-4"},nt={class:"relative group"},it=["src"],lt={class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 rounded-lg group-hover:bg-opacity-40 transition-all duration-300"},dt={class:"space-x-3 transform translate-y-4 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300"},ct={class:"mt-2 text-sm text-center text-gray-500"},ut={key:1,class:"flex flex-col items-center justify-center h-full p-4"},mt={class:"mb-1 text-sm text-center text-gray-600"},pt={class:"font-medium text-green-500"},gt={key:0,class:"text-red-500 mt-1 block"},_t={class:"flex justify-end mt-8"},ft=["disabled"],bt={key:1,class:"text-center"},yt={class:"p-8 rounded-2xl bg-green-50 shadow-md"},ht={class:"mb-2 text-2xl font-bold text-green-800"},vt={class:"mb-6 text-gray-600"},xt={class:"p-6 mb-6 bg-white border border-green-200 rounded-lg shadow-sm"},wt={class:"text-sm font-medium text-gray-500"},kt={class:"mt-1 text-2xl font-bold text-green-600"},$t={class:"mb-6 text-sm text-gray-500"},qt=Y({__name:"add-pharmacy",setup(Ct){const{t:d}=Z(),y=H(),z=K(),x=k([]),E=()=>{T.get("api/city?type=pharmacy&status=1").then(o=>{x.value=o.data.data})},e=$({name:"",country:"سوريا",city:"",address:"",phone:"",password:"",password_confirmation:"",national_id_number:"",license_number:"",email:"",practice_certificate:null,practice_certificate_name:"",practice_certificate_preview:null,pharmacy_logo:null,pharmacy_logo_name:"",pharmacy_logo_preview:null,lat:"",long:"",location_link:""});Q(()=>{E()});const a=$({name:"",country:"",city:"",address:"",phone:"",password:"",password_confirmation:"",national_id_number:"",license_number:"",email:"",practice_certificate:"",pharmacy_logo:"",lat:"",long:""}),f=$({number:"",name:"",email:"",createdAt:""}),h=k(!1),b=k({practice_certificate:!1,pharmacy_logo:!1}),q=()=>{e.phone.trim()?e.phone.length>15?a.phone=d("auth.phone_too_long"):a.phone="":a.phone=d("auth.phone_required")},C=()=>{e.password.trim()?e.password.length<8?a.password=d("auth.password_too_short"):a.password="":a.password=d("auth.password_required"),w()},w=()=>{e.password_confirmation.trim()?e.password!==e.password_confirmation?a.password_confirmation=d("auth.passwords_dont_match"):a.password_confirmation="":a.password_confirmation=d("auth.confirm_password_required")},L=()=>{e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?a.email="":a.email=d("auth.invalid_email"):a.email=d("auth.email_required")},V=M(()=>e.name.trim()!==""&&e.country.trim()!==""&&e.city.trim()!==""&&e.address.trim()!==""&&e.phone.trim()!==""&&e.phone.length<=15&&e.password.trim()!==""&&e.password.length>=8&&e.password===e.password_confirmation&&!a.name&&!a.country&&!a.city&&!a.address&&!a.phone&&!a.password&&!a.password_confirmation&&!a.email),D=o=>{b.value[o]=!0},I=o=>{b.value[o]=!1},P=M(()=>{if(e.location_link)return`https://www.google.com/maps?q=${e.lat},${e.long}&hl=es;z=14&output=embed`}),v=(o,r)=>{var s,j,F;const u=((j=(s=o.dataTransfer)==null?void 0:s.files)==null?void 0:j[0])||((F=o.target.files)==null?void 0:F[0]);if(u){if(!u.type.match("image.*")){y.add({severity:"error",summary:d("error"),detail:d("auth.invalid_image_type"),life:3e3});return}if(u.size>1024*1024){y.add({severity:"error",summary:d("error"),detail:d("auth.image_too_large"),life:3e3});return}e[r]=u,e[`${r}_name`]=u.name;const G=new FileReader;G.onload=O=>{var B;e[`${r}_preview`]=(B=O.target)==null?void 0:B.result},G.readAsDataURL(u),b.value[r]=!1}},N=o=>{e[o]=null,e[`${o}_name`]="",e[`${o}_preview`]=null;const r=document.getElementById(o);r&&(r.value="")},U=o=>{const r=document.getElementById(o);r&&r.click()},A=()=>{const o=x.value.find(r=>r.name===e.city);o&&(e.lat=o.lat.toString(),e.long=o.long.toString(),e.location_link=`https://www.google.com/maps?q=${o.lat},${o.long}`)},R=async()=>{var r,u;if(h.value=!0,e.name.trim()||(a.name=d("auth.pharmacy_name_required")),e.country.trim()||(a.country=d("auth.country_required")),e.city.trim()||(a.city=d("auth.city_required")),e.address.trim()||(a.address=d("auth.address_required")),q(),C(),w(),!V.value)return;const o=new FormData;o.append("name",e.name),o.append("country",e.country),o.append("city",e.city),o.append("address",e.address),o.append("phone",e.phone),o.append("password",e.password),o.append("password_confirmation",e.password_confirmation),o.append("email",e.email),e.national_id_number&&o.append("national_id_number",e.national_id_number),e.license_number&&o.append("license_number",e.license_number),e.practice_certificate&&o.append("practice_certificate",e.practice_certificate),e.pharmacy_logo&&o.append("pharmacy_logo",e.pharmacy_logo),e.lat&&o.append("lat",e.lat),e.long&&o.append("long",e.long),e.location_link&&o.append("location_link",e.location_link);try{const s=await T.post("/api/pharmacy",o,{headers:{"Content-Type":"multipart/form-data"}});f.number=s.data.data.number,f.name=s.data.data.name,f.email=s.data.data.email,f.createdAt=s.data.data.created_at,y.add({severity:"success",summary:d("success"),detail:d("auth.pharmacy_created"),life:3e3})}catch(s){console.error("Error submitting form:",s),y.add({severity:"error",summary:d("error"),detail:((u=(r=s.response)==null?void 0:r.data)==null?void 0:u.message)||d("auth.pharmacy_creation_failed"),life:3e3})}},J=()=>{e.name="",e.country="",e.city="",e.address="",e.phone="",e.password="",e.password_confirmation="",e.national_id_number="",e.license_number="",e.email="",e.practice_certificate=null,e.practice_certificate_name="",e.practice_certificate_preview=null,e.pharmacy_logo=null,e.pharmacy_logo_name="",e.pharmacy_logo_preview=null,e.lat="",e.long="",e.location_link="",a.name="",a.country="",a.city="",a.address="",a.phone="",a.password="",a.password_confirmation="",a.national_id_number="",a.license_number="",a.email="",a.practice_certificate="",a.pharmacy_logo="",a.lat="",a.long="",h.value=!1,z.push({name:"pharmacy-request"})};return(o,r)=>{const u=W("Toast");return i(),l("div",oe,[t("div",se,[t("h2",ne,n(o.$t("auth.register_pharmacy")),1),!h.value||!f.number?(i(),l("div",ie,[t("div",le,[t("div",de,[t("label",ce,n(o.$t("auth.pharmacy_name"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>e.name=s),id:"pharmacyName",name:"name",type:"text",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.name}]),placeholder:"أدخل اسم الصيدلية"},null,2),[[g,e.name]]),a.name?(i(),l("small",ue,n(a.name),1)):c("",!0)]),t("div",me,[t("label",pe,n(o.$t("auth.country"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[1]||(r[1]=s=>e.country=s),id:"country",name:"country",readonly:"",type:"text",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.country}]),placeholder:"أدخل اسم البلد"},null,2),[[g,e.country]]),a.country?(i(),l("small",ge,n(a.country),1)):c("",!0)]),t("div",_e,[t("label",fe,n(o.$t("auth.city"))+" * ",1),p(t("select",{"onUpdate:modelValue":r[2]||(r[2]=s=>e.city=s),id:"city",name:"city",required:"",onChange:A,class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.city}])},[r[22]||(r[22]=t("option",{value:"",disabled:"",selected:""},"اختر المدينة",-1)),(i(!0),l(ee,null,te(x.value,s=>(i(),l("option",{key:s.name,value:s.name},n(s.name),9,be))),128))],34),[[X,e.city]]),a.city?(i(),l("small",ye,n(a.city),1)):c("",!0)]),t("div",he,[t("label",ve,n(o.$t("auth.address"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[3]||(r[3]=s=>e.address=s),id:"address",name:"address",type:"text",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.address}]),placeholder:"أدخل العنوان"},null,2),[[g,e.address]]),a.address?(i(),l("small",xe,n(a.address),1)):c("",!0)]),t("div",we,[t("label",ke,n(o.$t("auth.phone"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[4]||(r[4]=s=>e.phone=s),id:"phone",name:"phone",type:"tel",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.phone}]),placeholder:"أدخل رقم الهاتف",onInput:q},null,34),[[g,e.phone]]),a.phone?(i(),l("small",$e,n(a.phone),1)):c("",!0)]),t("div",qe,[t("label",Ce,n(o.$t("auth.password"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[5]||(r[5]=s=>e.password=s),id:"password",name:"password",type:"password",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.password}]),placeholder:"أدخل كلمة السر",onInput:C},null,34),[[g,e.password]]),a.password?(i(),l("small",Ve,n(a.password),1)):c("",!0)]),t("div",De,[t("label",Ie,n(o.$t("auth.confirm_password"))+" * ",1),p(t("input",{"onUpdate:modelValue":r[6]||(r[6]=s=>e.password_confirmation=s),id:"passwordConfirmation",name:"password_confirmation",type:"password",required:"",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.password_confirmation}]),placeholder:"تأكيد كلمة السر",onInput:w},null,34),[[g,e.password_confirmation]]),a.password_confirmation?(i(),l("small",Pe,n(a.password_confirmation),1)):c("",!0)]),t("div",Ne,[t("label",Ue,n(o.$t("auth.national_id_number")),1),p(t("input",{"onUpdate:modelValue":r[7]||(r[7]=s=>e.national_id_number=s),id:"nationalIdNumber",name:"national_id_number",type:"text",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.national_id_number}]),placeholder:"أدخل رقم الهوية"},null,2),[[g,e.national_id_number]]),a.national_id_number?(i(),l("small",je,n(a.national_id_number),1)):c("",!0)]),t("div",Fe,[t("label",Ge,n(o.$t("auth.license_number")),1),p(t("input",{"onUpdate:modelValue":r[8]||(r[8]=s=>e.license_number=s),id:"licenseNumber",name:"license_number",type:"text",class:m(["w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",{"border-red-500":a.license_number}]),placeholder:"أدخل رقم الترخيص"},null,2),[[g,e.license_number]]),a.license_number?(i(),l("small",Be,n(a.license_number),1)):c("",!0)]),t("div",Me,[t("label",Se,n(o.$t("auth.email")),1),p(t("input",{"onUpdate:modelValue":r[9]||(r[9]=s=>e.email=s),id:"email",name:"email",type:"email",class:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300",placeholder:"أدخل الإيميل",onInput:L},null,544),[[g,e.email]]),a.email?(i(),l("small",Te,n(a.email),1)):c("",!0)])]),P.value?(i(),l("div",ze,[t("h4",Ee,n(o.$t("auth.location_information")),1),t("div",Le,[t("iframe",{src:P.value,width:"100%",height:"100%",style:{border:"0"},loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,Ae)])])):c("",!0),t("div",Re,[t("h4",Je,n(o.$t("auth.owner_information")),1),t("div",Oe,[t("div",null,[t("label",Ye,n(o.$t("auth.practice_certificate")),1),t("label",{onDragover:r[13]||(r[13]=_(s=>D("practice_certificate"),["prevent"])),onDragleave:r[14]||(r[14]=s=>I("practice_certificate")),onDrop:r[15]||(r[15]=_(s=>v(s,"practice_certificate"),["prevent"])),class:m([{"border-green-400 bg-green-50":b.value.practice_certificate,"border-gray-200":!b.value.practice_certificate},"w-full h-28 rounded-lg cursor-pointer transition-all duration-300 hover:border-green-400 border"])},[t("input",{type:"file",onChange:r[10]||(r[10]=s=>v(s,"practice_certificate")),accept:"image/*",class:"hidden",id:"practice_certificate"},null,32),e.practice_certificate_preview?(i(),l("div",Ze,[t("div",He,[t("img",{src:e.practice_certificate_preview,alt:"Practice Certificate Preview",class:"object-cover w-full h-32 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300"},null,8,Ke),t("div",Qe,[t("div",We,[t("button",{type:"button",onClick:r[11]||(r[11]=_(s=>N("practice_certificate"),["stop"])),class:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition"},[...r[23]||(r[23]=[t("i",{class:"text-sm pi pi-trash"},null,-1)])]),t("button",{type:"button",onClick:r[12]||(r[12]=_(s=>U("practice_certificate"),["stop"])),class:"p-2 bg-white text-gray-700 rounded-full hover:bg-gray-100 transition"},[...r[24]||(r[24]=[t("i",{class:"text-sm pi pi-pencil"},null,-1)])])])])]),t("p",Xe,n(o.$t("auth.click_or_drag_to_change_photo")),1)])):(i(),l("div",et,[r[25]||(r[25]=t("div",{class:"p-3 mb-2 bg-green-100 rounded-full"},[t("i",{class:"text-xl text-green-500 pi pi-image"})],-1)),t("p",tt,[t("span",rt,n(o.$t("auth.click_to_upload")),1),S(" "+n(o.$t("auth.or_drag_and_drop")),1)]),r[26]||(r[26]=t("p",{class:"text-xs text-gray-400"},"SVG, PNG, JPG or GIF (max. 1MB)",-1))]))],34),a.practice_certificate?(i(),l("small",at,n(a.practice_certificate),1)):c("",!0)]),t("div",null,[t("label",ot,n(o.$t("auth.pharmacy_logo")),1),t("label",{onDragover:r[19]||(r[19]=_(s=>D("pharmacy_logo"),["prevent"])),onDragleave:r[20]||(r[20]=s=>I("pharmacy_logo")),onDrop:r[21]||(r[21]=_(s=>v(s,"pharmacy_logo"),["prevent"])),class:m([{"border-green-400 bg-green-50":b.value.pharmacy_logo,"border-gray-200":!b.value.pharmacy_logo},"w-full h-28 rounded-lg cursor-pointer transition-all duration-300 hover:border-green-400 border"])},[t("input",{type:"file",onChange:r[16]||(r[16]=s=>v(s,"pharmacy_logo")),accept:"image/*",class:"hidden",id:"pharmacy_logo"},null,32),e.pharmacy_logo_preview?(i(),l("div",st,[t("div",nt,[t("img",{src:e.pharmacy_logo_preview,alt:"Pharmacy Logo Preview",class:"object-cover w-full h-32 rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300"},null,8,it),t("div",lt,[t("div",dt,[t("button",{type:"button",onClick:r[17]||(r[17]=_(s=>N("pharmacy_logo"),["stop"])),class:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition"},[...r[27]||(r[27]=[t("i",{class:"text-sm pi pi-trash"},null,-1)])]),t("button",{type:"button",onClick:r[18]||(r[18]=_(s=>U("pharmacy_logo"),["stop"])),class:"p-2 bg-white text-gray-700 rounded-full hover:bg-gray-100 transition"},[...r[28]||(r[28]=[t("i",{class:"text-sm pi pi-pencil"},null,-1)])])])])]),t("p",ct,n(o.$t("auth.click_or_drag_to_change_photo")),1)])):(i(),l("div",ut,[r[29]||(r[29]=t("div",{class:"p-3 mb-2 bg-green-100 rounded-full"},[t("i",{class:"text-xl text-green-500 pi pi-image"})],-1)),t("p",mt,[t("span",pt,n(o.$t("auth.click_to_upload")),1),S(" "+n(o.$t("auth.or_drag_and_drop")),1)]),r[30]||(r[30]=t("p",{class:"text-xs text-gray-400"},"SVG, PNG, JPG or GIF (max. 1MB)",-1))]))],34),a.pharmacy_logo?(i(),l("small",gt,n(a.pharmacy_logo),1)):c("",!0)])])]),t("div",_t,[t("button",{onClick:R,type:"button",class:"px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold rounded-lg shadow-md hover:from-green-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!V.value},n(o.$t("auth.create_account")),9,ft)])])):c("",!0),h.value&&f.number?(i(),l("div",bt,[t("div",yt,[r[31]||(r[31]=t("div",{class:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full"},[t("i",{class:"text-3xl text-green-500 pi pi-check"})],-1)),t("h3",ht,n(o.$t("auth.request_submitted")),1),t("p",vt,n(o.$t("auth.request_submitted_description")),1),t("div",xt,[t("div",wt,n(o.$t("auth.request_number")),1),t("div",kt,n(f.number),1)]),t("p",$t,n(o.$t("auth.request_submitted_note")),1),t("button",{onClick:J,class:"px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold rounded-lg shadow-md hover:from-green-600 hover:to-teal-600 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2 transition-all duration-300"},n(o.$t("auth.back_to_home")),1)])])):c("",!0)]),re(u)])}}});const Dt=ae(qt,[["__scopeId","data-v-1691b5dd"]]);export{Dt as default};
