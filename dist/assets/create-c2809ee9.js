import{_ as B,i as I,j as N,u as O,r as _,d as E,Y as c,Z as L,o as v,c as y,M,k as o,t as u,z as r,v as h,C as z,F as G,B as q,q as n,l as d}from"./index-800b62dc.js";const R={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},S={class:"text-3xl font-bold text-center mb-8 text-gray-800"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P={class:"space-y-2"},Y={for:"product",class:"block text-sm font-medium text-gray-700"},Z={class:"space-y-2"},H={for:"limit",class:"block text-sm font-medium text-gray-700"},J={class:"space-y-2"},K={for:"quantity",class:"block text-sm font-medium text-gray-700"},Q={class:"space-y-2"},W={for:"quantity_unit",class:"block text-sm font-medium text-gray-700"},X={class:"space-y-2"},ee={for:"discount_type",class:"block text-sm font-medium text-gray-700"},te={class:"space-y-2"},le={for:"discount_value",class:"block text-sm font-medium text-gray-700"},oe={class:"space-y-2"},ae={for:"start_date",class:"block text-sm font-medium text-gray-700"},se={class:"space-y-2"},re={for:"end_date",class:"block text-sm font-medium text-gray-700"},ue={class:"space-y-2 md:col-span-2"},ne={for:"description",class:"block text-sm font-medium text-gray-700"},de={class:"pt-4 flex justify-center"},ie={key:0},ce={key:1,class:"pi pi-spinner pi-spin"},pe={__name:"create",setup(fe){const w=I(),b=N(),{t:p}=O(),$=_(),f=_(!1),g=_([]),t=_({product_id:null,limit:null,quantity:null,quantity_unit:null,discount_type:null,discount_value:null,start_date:null,end_date:null,description:""}),a=_({product_id:!1,limit:!1,quantity:!1,quantity_unit:!1,discount_type:!1,discount_value:!1,start_date:!1,end_date:!1}),k=async()=>{try{const l=await q.get("/api/product");g.value=l.data.data}catch(l){console.error("Error fetching products:",l),b.add({severity:"error",summary:p("error"),detail:p("error_fetching_data"),life:3e3})}},C=()=>(a.value.product_id=!t.value.product_id,a.value.limit=t.value.limit===null||t.value.limit==="",a.value.quantity=t.value.quantity===null||t.value.quantity==="",a.value.quantity_unit=!t.value.quantity_unit,a.value.discount_type=!t.value.discount_type,a.value.discount_value=t.value.discount_value===null||t.value.discount_value==="",a.value.start_date=!t.value.start_date,a.value.end_date=!t.value.end_date,!Object.values(a.value).some(l=>l)),x=async()=>{var l,e;if(C()){f.value=!0;try{await q.post("/api/offer",t.value),w.push({name:"offers"}),b.add({severity:"success",summary:p("success"),detail:p("offer_created"),life:3e3})}catch(i){console.error("Error:",i);const m=(e=(l=i.response)==null?void 0:l.data)!=null&&e.errors?Object.values(i.response.data.errors).flat().join(", "):p("error_creating_offer");b.add({severity:"error",summary:p("error"),detail:m,life:3e3})}finally{f.value=!1}}};return E(()=>{k()}),(l,e)=>{const i=c("Dropdown"),m=c("InputNumber"),V=c("InputText"),U=c("Textarea"),D=c("Button"),F=c("Form"),T=c("Toast"),j=L("can");return v(),y(G,null,[M((v(),y("div",R,[o("h1",S,u(l.$t("offer.create_new_offer")),1),r(F,{ref_key:"form",ref:$,model:t.value,onSubmit:z(x,["prevent"]),class:"space-y-6"},{default:h(()=>[o("div",A,[o("div",P,[o("label",Y,[n(u(l.$t("offer.product"))+" ",1),e[9]||(e[9]=o("span",{class:"text-red-500"},"*",-1))]),r(i,{id:"product",modelValue:t.value.product_id,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value.product_id=s),options:g.value,optionLabel:"commercial_name",optionValue:"id",placeholder:l.$t("offer.select_product"),class:d(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"p-invalid":a.value.product_id}])},null,8,["modelValue","options","placeholder","class"])]),o("div",Z,[o("label",H,[n(u(l.$t("offer.limit"))+" ",1),e[10]||(e[10]=o("span",{class:"text-red-500"},"*",-1))]),r(m,{id:"limit",modelValue:t.value.limit,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.limit=s),useGrouping:!1,placeholder:l.$t("offer.enter_limit"),class:d(["w-full",{"p-invalid":a.value.limit}]),inputClass:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","placeholder","class"])]),o("div",J,[o("label",K,[n(u(l.$t("offer.quantity"))+" ",1),e[11]||(e[11]=o("span",{class:"text-red-500"},"*",-1))]),r(m,{id:"quantity",modelValue:t.value.quantity,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.quantity=s),useGrouping:!1,placeholder:l.$t("offer.enter_quantity"),class:d(["w-full",{"p-invalid":a.value.quantity}]),inputClass:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","placeholder","class"])]),o("div",Q,[o("label",W,[n(u(l.$t("offer.quantity_unit"))+" ",1),e[12]||(e[12]=o("span",{class:"text-red-500"},"*",-1))]),r(i,{id:"quantity_unit",modelValue:t.value.quantity_unit,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.quantity_unit=s),options:[{label:"Tablets",value:1},{label:"Capsules",value:2},{label:"Units",value:3}],optionLabel:"label",optionValue:"value",placeholder:l.$t("offer.select_quantity_unit"),class:d(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"p-invalid":a.value.quantity_unit}])},null,8,["modelValue","placeholder","class"])]),o("div",X,[o("label",ee,[n(u(l.$t("offer.discount_type"))+" ",1),e[13]||(e[13]=o("span",{class:"text-red-500"},"*",-1))]),r(i,{id:"discount_type",modelValue:t.value.discount_type,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.discount_type=s),options:[{label:"Percentage",value:1},{label:"Fixed Amount",value:2}],optionLabel:"label",optionValue:"value",placeholder:l.$t("offer.select_discount_type"),class:d(["w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"p-invalid":a.value.discount_type}])},null,8,["modelValue","placeholder","class"])]),o("div",te,[o("label",le,[n(u(l.$t("offer.discount_value"))+" ",1),e[14]||(e[14]=o("span",{class:"text-red-500"},"*",-1))]),r(m,{id:"discount_value",modelValue:t.value.discount_value,"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.discount_value=s),mode:"decimal",minFractionDigits:2,maxFractionDigits:2,placeholder:l.$t("offer.enter_discount_value"),class:d(["w-full",{"p-invalid":a.value.discount_value}]),inputClass:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","placeholder","class"])]),o("div",oe,[o("label",ae,[n(u(l.$t("offer.start_date"))+" ",1),e[15]||(e[15]=o("span",{class:"text-red-500"},"*",-1))]),r(V,{id:"start_date",modelValue:t.value.start_date,"onUpdate:modelValue":e[6]||(e[6]=s=>t.value.start_date=s),type:"date",placeholder:l.$t("offer.enter_start_date"),class:d(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"p-invalid":a.value.start_date}])},null,8,["modelValue","placeholder","class"])]),o("div",se,[o("label",re,[n(u(l.$t("offer.end_date"))+" ",1),e[16]||(e[16]=o("span",{class:"text-red-500"},"*",-1))]),r(V,{id:"end_date",modelValue:t.value.end_date,"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.end_date=s),type:"date",placeholder:l.$t("offer.enter_end_date"),class:d(["w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",{"p-invalid":a.value.end_date}])},null,8,["modelValue","placeholder","class"])]),o("div",ue,[o("label",ne,u(l.$t("offer.description")),1),r(U,{id:"description",modelValue:t.value.description,"onUpdate:modelValue":e[8]||(e[8]=s=>t.value.description=s),placeholder:l.$t("offer.enter_description"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"])])]),o("div",de,[r(D,{type:"submit",label:"Create Offer",icon:"pi pi-plus",loading:f.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:f.value,onClick:x},{default:h(()=>[f.value?(v(),y("i",ce)):(v(),y("span",ie,u(l.$t("offer.create_offer")),1))]),_:1},8,["loading","disabled"])])]),_:1},8,["model"])])),[[j,"create offers"]]),r(T)],64)}}},_e=B(pe,[["__scopeId","data-v-8c439d23"]]);export{_e as default};
