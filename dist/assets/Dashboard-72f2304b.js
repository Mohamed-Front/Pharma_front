import{a2 as x,u as q,r as n,c as v,o as y,e as i,h as c,g as t,t as a,C as _,i as u,j as m,s as C,E as R,a6 as f,b as j,_ as M}from"./index-2cd76906.js";const O={class:"min-h-screen bg-gray-100 p-4 md:p-6"},V={class:"mb-6 animate-fade-in"},I={class:"font-bold text-gray-800 mb-2",style:{"font-size":"clamp(1rem, 2vw + .5rem, 1.8rem)"}},z={class:"text-gray-600",style:{"font-size":"clamp(.4rem, 2vw + .3rem, 1rem)"}},A={key:0,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-6"},E={href:"/admin/companies",class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},H={class:"flex justify-between items-start"},S={class:"text-sm font-medium text-gray-600"},N={class:"text-2xl font-bold text-gray-800 mt-1"},W={class:"text-sm mt-2 text-gray-600"},F={href:"/admin/users_management/pharmacy-request",class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},J={class:"flex justify-between items-start"},Z={class:"text-sm font-medium text-gray-600"},G={class:"text-2xl font-bold text-gray-800 mt-1"},P={class:"text-sm mt-2 text-gray-600"},K={href:"/admin/users_management/warehouse-request",class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},L={class:"flex justify-between items-start"},Q={class:"text-sm font-medium text-gray-600"},T={class:"text-2xl font-bold text-gray-800 mt-1"},U={class:"text-sm mt-2 text-gray-600"},X={href:"/admin/categories",class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},Y={class:"flex justify-between items-start"},tt={class:"text-sm font-medium text-gray-600"},et={class:"text-2xl font-bold text-gray-800 mt-1"},st={class:"text-sm mt-2 text-gray-600"},at={key:1,class:"flex justify-center items-center h-64"},ot={key:2,class:"text-red-500 text-center mb-6 animate-fade-in"},rt={key:3,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},nt={class:"bg-white rounded-xl shadow-md p-6 lg:col-span-2 transition-all duration-300 hover:shadow-xl"},dt={class:"flex justify-between items-center mb-4"},lt={class:"text-lg font-semibold text-gray-800"},it={class:"flex space-x-2"},ct={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl"},ut={class:"text-lg font-semibold text-gray-800 mb-4"},ht=x({__name:"DashboardInfoBlock",setup(w){const{t:l}=q(),o=n(null),p=n(!0),h=n(null);n([{id:"ORD1001",customer:"James Smith",date:"2025-10-01",amount:45.99,status:"Delivered"},{id:"ORD1002",customer:"Maria Garcia",date:"2025-10-02",amount:89.5,status:"Processing"},{id:"ORD1003",customer:"Robert Johnson",date:"2025-10-03",amount:120.75,status:"Delivered"},{id:"ORD1004",customer:"Sarah Williams",date:"2025-10-04",amount:32.25,status:"Cancelled"},{id:"ORD1005",customer:"David Brown",date:"2025-10-05",amount:67.8,status:"Delivered"}]);const k=v(()=>{var e,s,r,g;return{labels:[...((e=o.value)==null?void 0:e.pharmacyRequest_by_status_counts.map(d=>d.status_description))||[],...((s=o.value)==null?void 0:s.warehouseRequest_by_status_counts.map(d=>d.status_description))||[]],datasets:[{label:l("dashboard.pharmacy_requests"),data:((r=o.value)==null?void 0:r.pharmacyRequest_by_status_counts.map(d=>d.pharmacy_request_count))||[],backgroundColor:"#3B82F6",borderRadius:4},{label:l("dashboard.warehouse_requests"),data:((g=o.value)==null?void 0:g.warehouseRequest_by_status_counts.map(d=>d.warehouse_request_count))||[],backgroundColor:"#10B981",borderRadius:4}]}}),D=v(()=>{var e,s;return{labels:Object.keys(((e=o.value)==null?void 0:e.last_orders_count)||{}),datasets:[{label:l("dashboard.orders_count"),data:Object.values(((s=o.value)==null?void 0:s.last_orders_count)||{}),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.05)",borderWidth:2,tension:.4,fill:!0}]}}),B=n({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#374151"}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"#e5e7eb"},ticks:{color:"#374151"}},x:{grid:{display:!1},ticks:{color:"#374151"}}},animation:{easing:"easeInOutCubic",duration:1500}}),$=n({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#374151"}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"#e5e7eb"},ticks:{color:"#374151"}},x:{grid:{display:!1},ticks:{color:"#374151"}}},animation:{easing:"easeOutBounce",duration:1500}}),b=async()=>{var e,s;p.value=!0,h.value=null;try{const r=await j.get("https://pharma-service-838894765790.us-central1.run.app/api/dashboard/admin/data");if(r.data.success)o.value=r.data.data;else throw new Error(r.data.message||l("dashboard.error_fetching_data"))}catch(r){h.value=((s=(e=r.response)==null?void 0:e.data)==null?void 0:s.message)||l("dashboard.error_fetching_data"),console.error("Error fetching dashboard data:",r),o.value={company_count:2,scientific_structure_count:1,category_count:4,pharmacy_count:2,warehouse_count:3,pharmacyRequest_by_status_counts:[{status:1,pharmacy_request_count:1,status_description:"active"}],warehouseRequest_by_status_counts:[{status:1,warehouse_request_count:2,status_description:"active"}],last_orders_count:{"Oct-2025":5}}}finally{p.value=!1}};return y(()=>{b()}),(e,s)=>(i(),c("div",O,[t("div",V,[t("h1",I,a(e.$t("dashboard.title")),1),t("p",z,a(e.$t("dashboard.welcome_message")),1)]),o.value?(i(),c("div",A,[t("a",E,[t("div",H,[t("div",null,[t("p",S,a(e.$t("dashboard.companies")),1),t("h3",N,a(o.value.company_count),1),t("p",W,a(e.$t("dashboard.total_companies")),1)]),s[0]||(s[0]=t("div",{class:"bg-blue-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a2 2 0 012-2h2a2 2 0 012 2v5m-4 0h4"})])],-1))])]),t("a",F,[t("div",J,[t("div",null,[t("p",Z,a(e.$t("dashboard.pharmacies")),1),t("h3",G,a(o.value.pharmacy_count),1),t("p",P,a(e.$t("dashboard.total_pharmacies")),1)]),s[1]||(s[1]=t("div",{class:"bg-green-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),t("a",K,[t("div",L,[t("div",null,[t("p",Q,a(e.$t("dashboard.warehouses")),1),t("h3",T,a(o.value.warehouse_count),1),t("p",U,a(e.$t("dashboard.total_warehouses")),1)]),s[2]||(s[2]=t("div",{class:"bg-orange-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])],-1))])]),t("a",X,[t("div",Y,[t("div",null,[t("p",tt,a(e.$t("dashboard.categories")),1),t("h3",et,a(o.value.category_count),1),t("p",st,a(e.$t("dashboard.total_categories")),1)]),s[3]||(s[3]=t("div",{class:"bg-purple-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1))])])])):_("",!0),p.value?(i(),c("div",at,[u(m(C),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])):_("",!0),h.value?(i(),c("div",ot,a(h.value),1)):_("",!0),o.value?(i(),c("div",rt,[t("div",nt,[t("div",dt,[t("h2",lt,a(e.$t("dashboard.request_status")),1),t("div",it,[u(m(R),{class:"p-button-sm p-button-text",label:e.$t("dashboard.refresh"),icon:"pi pi-refresh",onClick:b},null,8,["label"])])]),u(m(f),{type:"bar",data:k.value,options:$.value},null,8,["data","options"])]),t("div",ct,[t("h2",ut,a(e.$t("dashboard.orders_count")),1),u(m(f),{type:"line",data:D.value,options:B.value},null,8,["data","options"])])])):_("",!0)]))}});const _t=M(ht,[["__scopeId","data-v-a09db1b1"]]),mt={class:"dashboard"},bt=x({__name:"Dashboard",setup(w){return n(),n(),y(()=>{}),(l,o)=>(i(),c("div",mt,[u(_t)]))}});export{bt as default};
