import{_ as j,u as F,P as D,z,a as A,r as g,c as x,o as B,a8 as E,e as n,h as i,g as e,Z as I,j as a,i as m,t as s,f,C as h,F as L,y as O,w as S,b as T,E as V,ap as $,T as M,A as W}from"./index-2cd76906.js";import{x as Z,A as P,O as J}from"./index.es-685cb9ec.js";const K={class:"min-h-screen bg-gray-100"},Q={class:"bg-white shadow-sm"},U={class:"container mx-auto px-4 py-6"},Y={class:"flex items-center gap-4"},G={class:"text-3xl font-bold text-gray-800"},H={class:"container mx-auto px-4 py-8"},X={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2"},te={class:"bg-white rounded-xl shadow-lg p-6"},se={class:"text-xl font-semibold text-gray-800 mb-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oe={class:"space-y-4"},le={class:"field"},ce={class:"block text-sm font-medium text-gray-700"},ne={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ie={class:"field"},de={class:"block text-sm font-medium text-gray-700"},re={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ue={class:"field"},_e={class:"block text-sm font-medium text-gray-700"},me={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},he={class:"space-y-4"},pe={class:"field"},ge={class:"block text-sm font-medium text-gray-700"},ve={class:"field"},ye={class:"block text-sm font-medium text-gray-700"},xe={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},fe={class:"field"},be={class:"block text-sm font-medium text-gray-700"},ke={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},we={class:"col-span-1 md:col-span-2"},Re={class:"field"},qe={class:"block text-sm font-medium text-gray-700"},Ne={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Ce={key:0,class:"field"},je={class:"block text-sm font-medium text-gray-700"},Fe={class:"mt-1 text-red-600 bg-red-50 p-3 rounded-md"},De={class:"lg:col-span-1"},ze={class:"bg-white rounded-xl shadow-lg p-6 h-full"},Ae={class:"text-xl font-semibold text-gray-800 mb-6"},Be={key:0},Ee={class:"relative rounded-lg overflow-hidden mb-4",style:{height:"150px","background-color":"#f5f5f5"}},Ie=["src","alt"],Le={class:"flex gap-3 overflow-x-auto pb-3"},Oe=["onClick"],Se=["src","alt"],Te={class:"mt-4"},Ve={class:"font-semibold text-gray-700"},$e={class:"text-gray-600 capitalize"},Me={key:1,class:"flex flex-col items-center justify-center py-8 text-gray-500"},We={class:"lg:col-span-3"},Ze={class:"bg-white rounded-xl shadow-lg p-6"},Pe={class:"text-xl font-semibold text-gray-800 mb-6"},Je={class:"rounded-lg overflow-hidden",style:{height:"300px"}},Ke={__name:"show",setup(Qe){const{t:o}=F(),b=D(),k=z(),w=A(),u=g(!0),t=g(null),d=g(0),R=async()=>{try{u.value=!0;const l=await T.get(`/api/pharmacy-request/${b.params.id}`);t.value=l.data.data,u.value=!1}catch{u.value=!1,w.add({severity:"error",summary:o("error"),detail:o("pharmacyRequest.loadError"),life:3e3})}},v=x(()=>{if(t.value&&t.value.lat&&t.value.long&&t.value.distance){const l=parseFloat(t.value.lat),c=parseFloat(t.value.long),r=Number(t.value.distance);return isNaN(l)||isNaN(c)||isNaN(r)?null:{center:{lat:l,lng:c},radius:r,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}}return null}),q=l=>{const c=l.latLng,r=c.lat(),_=c.lng();console.log("Clicked coordinates:",r,_)},y=x(()=>{if(t.value&&t.value.lat&&t.value.long){const l=parseFloat(t.value.lat),c=parseFloat(t.value.long);return isNaN(l)||isNaN(c)?{lat:0,lng:0}:{lat:l,lng:c}}return{lat:0,lng:0}}),N=l=>{switch(l){case"active":return"success";case"pending":return"warning";case"rejected":return"danger";default:return"danger"}},C=()=>{k.go(-1)};return B(()=>{R()}),(l,c)=>{const r=E("tooltip");return n(),i("div",K,[e("div",Q,[e("div",U,[e("div",Y,[I(m(a(V),{icon:"pi pi-arrow-left",class:"p-button-text p-button-rounded p-button-lg",onClick:C},null,512),[[r,a(o)("back"),void 0,{right:!0}]]),e("h1",G,s(a(o)("pharmacyRequest.detailsTitle")),1)])])]),e("div",H,[u.value?(n(),f(a($),{key:0,mode:"indeterminate",class:"mb-6 rounded-lg",style:{height:"6px"}})):h("",!0),!u.value&&t.value?(n(),i("div",X,[e("div",ee,[e("div",te,[e("h2",se,s(a(o)("pharmacyRequest.information")),1),e("div",ae,[e("div",oe,[e("div",le,[e("label",ce,s(a(o)("pharmacyRequest.number")),1),e("p",ne,s(t.value.number),1)]),e("div",ie,[e("label",de,s(a(o)("pharmacyRequest.name")),1),e("p",re,s(t.value.name),1)]),e("div",ue,[e("label",_e,s(a(o)("pharmacyRequest.email")),1),e("p",me,s(t.value.email),1)])]),e("div",he,[e("div",pe,[e("label",ge,s(a(o)("pharmacyRequest.status")),1),m(a(M),{value:t.value.status_description,severity:N(t.value.status_description),class:"mt-1 px-4 py-2 text-sm"},null,8,["value","severity"])]),e("div",ve,[e("label",ye,s(a(o)("pharmacyRequest.latitude")),1),e("p",xe,s(t.value.lat),1)]),e("div",fe,[e("label",be,s(a(o)("pharmacyRequest.longitude")),1),e("p",ke,s(t.value.long),1)])]),e("div",we,[e("div",Re,[e("label",qe,s(a(o)("pharmacyRequest.address")),1),e("p",Ne,s(t.value.address),1)]),t.value.rejected_message?(n(),i("div",Ce,[e("label",je,s(a(o)("pharmacyRequest.rejectionReason")),1),e("p",Fe,s(t.value.rejected_message),1)])):h("",!0)])])])]),e("div",De,[e("div",ze,[e("h2",Ae,s(a(o)("pharmacyRequest.documents")),1),t.value.media&&t.value.media.length>0?(n(),i("div",Be,[e("div",Ee,[e("img",{src:t.value.media[d.value].url,alt:t.value.media[d.value].name,class:"w-full h-full object-contain transition-transform duration-300"},null,8,Ie)]),e("div",Le,[(n(!0),i(L,null,O(t.value.media,(_,p)=>(n(),i("div",{key:_.id,onClick:Ue=>d.value=p,class:W(["cursor-pointer rounded-lg overflow-hidden flex-shrink-0 border-2 transition-all duration-300",{"border-green-500":d.value===p,"border-transparent":d.value!==p}]),style:{width:"100px",height:"100px"}},[e("img",{src:_.url,alt:_.name,class:"w-full h-full object-cover"},null,8,Se)],10,Oe))),128))]),e("div",Te,[e("p",Ve,s(a(o)("pharmacyRequest.documentType"))+":",1),e("p",$e,s(t.value.media[d.value].name.replace(/_/g," ")),1)])])):(n(),i("div",Me,[c[0]||(c[0]=e("i",{class:"pi pi-image text-5xl mb-3"},null,-1)),e("p",null,s(a(o)("pharmacyRequest.noDocuments")),1)]))])]),e("div",We,[e("div",Ze,[e("h2",Pe,s(a(o)("pharmacyRequest.location")),1),e("div",Je,[m(a(J),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",style:{width:"100%",height:"100%"},center:y.value,zoom:14,onClick:q},{default:S(()=>[m(a(Z),{options:{position:y.value}},null,8,["options"]),v.value?(n(),f(a(P),{key:0,options:v.value},null,8,["options"])):h("",!0)]),_:1},8,["center"])])])])])):h("",!0)])])}}},He=j(Ke,[["__scopeId","data-v-fdef15da"]]);export{He as default};
