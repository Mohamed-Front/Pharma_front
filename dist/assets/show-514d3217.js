import{_ as j,u as F,P as D,z,a as A,r as v,c as y,o as B,a8 as E,e as i,h as c,g as e,Z as I,j as a,i as h,t as s,f,C as g,F as L,y as O,w as S,b as T,E as V,ap as W,T as $,A as M}from"./index-2cd76906.js";import{x as Z,A as J,O as K}from"./index.es-685cb9ec.js";const P={class:"min-h-screen bg-gray-100"},Q={class:"bg-white shadow-sm"},U={class:"container mx-auto px-4 py-6"},Y={class:"flex items-center gap-4"},G={class:"text-3xl font-bold text-gray-800"},H={class:"container mx-auto px-4 py-8"},X={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2"},te={class:"bg-white rounded-xl shadow-lg p-6"},se={class:"text-xl font-semibold text-gray-800 mb-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oe={class:"space-y-4"},le={class:"field"},ne={class:"block text-sm font-medium text-gray-700"},ie={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ce={class:"field"},re={class:"block text-sm font-medium text-gray-700"},de={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ue={class:"field"},_e={class:"block text-sm font-medium text-gray-700"},he={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ge={class:"space-y-4"},me={class:"field"},ve={class:"block text-sm font-medium text-gray-700"},pe={class:"field"},xe={class:"block text-sm font-medium text-gray-700"},ye={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},fe={class:"field"},be={class:"block text-sm font-medium text-gray-700"},we={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ke={class:"col-span-1 md:col-span-2"},Re={class:"field"},qe={class:"block text-sm font-medium text-gray-700"},Ne={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Ce={key:0,class:"field"},je={class:"block text-sm font-medium text-gray-700"},Fe={class:"mt-1 text-red-600 bg-red-50 p-3 rounded-md"},De={class:"lg:col-span-1"},ze={class:"bg-white rounded-xl shadow-lg p-6 h-full"},Ae={class:"text-xl font-semibold text-gray-800 mb-6"},Be={key:0},Ee={class:"relative rounded-lg overflow-hidden mb-4",style:{height:"150px","background-color":"#f5f5f5"}},Ie=["src","alt"],Le={class:"flex gap-3 overflow-x-auto pb-3"},Oe=["onClick"],Se=["src","alt"],Te={class:"mt-4"},Ve={class:"font-semibold text-gray-700"},We={class:"text-gray-600 capitalize"},$e={key:1,class:"flex flex-col items-center justify-center py-8 text-gray-500"},Me={class:"lg:col-span-3"},Ze={class:"bg-white rounded-xl shadow-lg p-6"},Je={class:"text-xl font-semibold text-gray-800 mb-6"},Ke={class:"rounded-lg overflow-hidden",style:{height:"300px"}},Pe={__name:"show",setup(Qe){const{t:o}=F(),b=D(),w=z(),k=A(),u=v(!0),t=v(null),r=v(0),R=async()=>{try{u.value=!0;const l=await T.get(`/api/warehouse-request/${b.params.id}`);t.value=l.data.data,u.value=!1}catch{u.value=!1,k.add({severity:"error",summary:o("error"),detail:o("warehouseRequest.loadError"),life:3e3})}},p=y(()=>{if(t.value&&t.value.lat&&t.value.long&&t.value.distance){const l=parseFloat(t.value.lat),n=parseFloat(t.value.long),d=Number(t.value.distance);return isNaN(l)||isNaN(n)||isNaN(d)?null:{center:{lat:l,lng:n},radius:d,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}}return null}),q=l=>{const n=l.latLng,d=n.lat(),_=n.lng();console.log("Clicked coordinates:",d,_)},x=y(()=>{if(t.value&&t.value.lat&&t.value.long){const l=parseFloat(t.value.lat),n=parseFloat(t.value.long);return isNaN(l)||isNaN(n)?{lat:0,lng:0}:{lat:l,lng:n}}return{lat:0,lng:0}}),N=l=>{switch(l){case"active":return"success";case"pending":return"warning";case"rejected":return"danger";default:return"danger"}},C=()=>{w.go(-1)};return B(()=>{R()}),(l,n)=>{const d=E("tooltip");return i(),c("div",P,[e("div",Q,[e("div",U,[e("div",Y,[I(h(a(V),{icon:"pi pi-arrow-left",class:"p-button-text p-button-rounded p-button-lg",onClick:C},null,512),[[d,a(o)("back"),void 0,{right:!0}]]),e("h1",G,s(a(o)("warehouseRequest.detailsTitle")),1)])])]),e("div",H,[u.value?(i(),f(a(W),{key:0,mode:"indeterminate",class:"mb-6 rounded-lg",style:{height:"6px"}})):g("",!0),!u.value&&t.value?(i(),c("div",X,[e("div",ee,[e("div",te,[e("h2",se,s(a(o)("warehouseRequest.information")),1),e("div",ae,[e("div",oe,[e("div",le,[e("label",ne,s(a(o)("warehouseRequest.number")),1),e("p",ie,s(t.value.number),1)]),e("div",ce,[e("label",re,s(a(o)("warehouseRequest.name")),1),e("p",de,s(t.value.name),1)]),e("div",ue,[e("label",_e,s(a(o)("warehouseRequest.email")),1),e("p",he,s(t.value.email),1)])]),e("div",ge,[e("div",me,[e("label",ve,s(a(o)("warehouseRequest.status")),1),h(a($),{value:t.value.status_description,severity:N(t.value.status_description),class:"mt-1 px-4 py-2 text-sm"},null,8,["value","severity"])]),e("div",pe,[e("label",xe,s(a(o)("warehouseRequest.latitude")),1),e("p",ye,s(t.value.lat),1)]),e("div",fe,[e("label",be,s(a(o)("warehouseRequest.longitude")),1),e("p",we,s(t.value.long),1)])]),e("div",ke,[e("div",Re,[e("label",qe,s(a(o)("warehouseRequest.address")),1),e("p",Ne,s(t.value.address),1)]),t.value.rejected_message?(i(),c("div",Ce,[e("label",je,s(a(o)("warehouseRequest.rejectionReason")),1),e("p",Fe,s(t.value.rejected_message),1)])):g("",!0)])])])]),e("div",De,[e("div",ze,[e("h2",Ae,s(a(o)("warehouseRequest.documents")),1),t.value.media&&t.value.media.length>0?(i(),c("div",Be,[e("div",Ee,[e("img",{src:t.value.media[r.value].url,alt:t.value.media[r.value].name,class:"w-full h-full object-contain transition-transform duration-300"},null,8,Ie)]),e("div",Le,[(i(!0),c(L,null,O(t.value.media,(_,m)=>(i(),c("div",{key:_.id,onClick:Ue=>r.value=m,class:M(["cursor-pointer rounded-lg overflow-hidden flex-shrink-0 border-2 transition-all duration-300",{"border-green-500":r.value===m,"border-transparent":r.value!==m}]),style:{width:"100px",height:"100px"}},[e("img",{src:_.url,alt:_.name,class:"w-full h-full object-cover"},null,8,Se)],10,Oe))),128))]),e("div",Te,[e("p",Ve,s(a(o)("warehouseRequest.documentType"))+":",1),e("p",We,s(t.value.media[r.value].name.replace(/_/g," ")),1)])])):(i(),c("div",$e,[n[0]||(n[0]=e("i",{class:"pi pi-image text-5xl mb-3"},null,-1)),e("p",null,s(a(o)("warehouseRequest.noDocuments")),1)]))])]),e("div",Me,[e("div",Ze,[e("h2",Je,s(a(o)("warehouseRequest.location")),1),e("div",Ke,[h(a(K),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",style:{width:"100%",height:"100%"},center:x.value,zoom:14,onClick:q},{default:S(()=>[h(a(Z),{options:{position:x.value}},null,8,["options"]),p.value?(i(),f(a(J),{key:0,options:p.value},null,8,["options"])):g("",!0)]),_:1},8,["center"])])])])])):g("",!0)])])}}},He=j(Pe,[["__scopeId","data-v-b42a049e"]]);export{He as default};
