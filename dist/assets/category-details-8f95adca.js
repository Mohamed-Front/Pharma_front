import{u as w,e as k,O as I,r as _,d as g,a as A,f as l,g as i,m as t,z as m,l as o,t as s,F as B,k as L,q as N,D as C,A as D}from"./index-b2b8894e.js";const E={class:"bg-gray-100 min-h-screen"},$={class:"py-10 px-4 md:px-8 max-w-4xl m-auto"},j={key:0,class:"flex justify-center mb-10"},q={key:1,class:"text-center text-gray-500 mb-10"},F={key:2,class:"space-y-8"},P={class:"bg-white rounded-lg shadow-sm p-6"},S={class:"text-xl md:text-2xl font-extrabold text-gray-800 leading-tight mb-2"},V={class:"text-gray-600"},z={class:"mt-4 flex items-center gap-4"},M={class:"text-lg font-bold text-gray-800"},O={class:"text-sm text-gray-500"},R={class:"bg-white rounded-lg shadow-sm p-6"},T={class:"text-xl font-bold text-gray-800 mb-4"},W={class:"overflow-x-auto"},G={class:"w-full table-auto"},H={class:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal"},J={class:"py-3 px-6"},K={class:"py-3 px-6"},Q={class:"py-3 px-6"},U={class:"py-3 px-6"},X={class:"text-gray-600 text-sm font-light"},Y={class:"py-3 px-6"},Z={class:"py-3 px-6 whitespace-nowrap"},tt={class:"py-3 px-6"},et={class:"py-3 px-6"},st=["src"],rt={__name:"category-details",setup(at){const{t:a}=w(),y=k(),x=I(),r=_(null),d=_(!0),p=_(localStorage.getItem("appLang")||"en"),v=g(()=>{var c,e;return p.value==="en"?(c=r.value)==null?void 0:c.name_en:(e=r.value)==null?void 0:e.name_ar}),f=g(()=>{var c,e;return p.value==="en"?(c=r.value)==null?void 0:c.description_en:(e=r.value)==null?void 0:e.description_ar}),b=async c=>{try{d.value=!0;const e=await N.get(`api/pharmacy-home/category/${c}`);if(e.data.success)r.value={...e.data.data,total_products:e.data.data.paginated_products.total};else throw new Error("API request unsuccessful")}catch(e){y.add({severity:"error",summary:a("error"),detail:a("error.fetchCategory"),life:3e3}),console.error("Error fetching category:",e)}finally{d.value=!1}};return A(()=>{b(x.params.id)}),(c,e)=>(l(),i("div",E,[t("div",$,[d.value?(l(),i("div",j,[m(o(C),{style:{width:"50px",height:"50px"},strokeWidth:"4","aria-label":"Loading spinner"})])):r.value?(l(),i("div",F,[t("div",P,[t("h3",S,s(v.value),1),t("p",V,s(f.value||o(a)("no_description")),1),t("div",z,[e[0]||(e[0]=t("i",{class:"pi pi-box text-[#1B8A45] text-2xl"},null,-1)),t("span",M,s(r.value.total_products),1),t("span",O,s(o(a)("number_of_products")),1)])]),t("div",R,[t("h4",T,s(o(a)("products_in_category")),1),t("div",W,[t("table",G,[t("thead",null,[t("tr",H,[t("th",J,s(o(a)("product_name")),1),t("th",K,s(o(a)("price")),1),t("th",Q,s(o(a)("company")),1),t("th",U,s(o(a)("product_image")),1)])]),t("tbody",X,[(l(!0),i(B,null,L(r.value.paginated_products.data,n=>{var u,h;return l(),i("tr",{key:n.id,class:"border-b border-gray-200 hover:bg-gray-50"},[t("td",Y,s(n.commercial_name),1),t("td",Z,"$"+s(n.price)+" "+s(n.price_unit),1),t("td",tt,s(((u=n.company)==null?void 0:u.name)||"N/A"),1),t("td",et,[t("img",{src:((h=n.media[0])==null?void 0:h.url)||"https://via.placeholder.com/64?text=Image",alt:"Product Image",class:"w-12 h-12 object-contain rounded-lg"},null,8,st)])])}),128))])])])])])):(l(),i("div",q,s(o(a)("error.noCategory")),1)),m(o(D))])]))}};export{rt as default};
