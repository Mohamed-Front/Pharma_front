import{T as w,u as f,r as d,g as k,d as $,o as l,c as n,k as t,t as e,y as i,z as p,m,E as j,F as g,x,X as C,B}from"./index-a2c89516.js";const M={class:"min-h-screen bg-gray-100 p-4 md:p-6"},V={class:"mb-6 animate-fade-in"},z={class:"font-bold text-gray-800 mb-2",style:{"font-size":"clamp(1rem, 2vw + .5rem, 1.8rem)"}},F={class:"text-gray-600",style:{"font-size":"clamp(.4rem, 2vw + .3rem, 1rem)"}},H={key:0,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-6"},D={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},E={class:"flex justify-between items-start"},N={class:"text-sm font-medium text-gray-600"},O={class:"text-2xl font-bold text-gray-800 mt-1"},I={class:"text-sm mt-2 text-gray-600"},S={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},A={class:"flex justify-between items-start"},U={class:"text-sm font-medium text-gray-600"},W={class:"text-2xl font-bold text-gray-800 mt-1"},L={class:"text-sm mt-2 text-gray-600"},R={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},T={class:"flex justify-between items-start"},X={class:"text-sm font-medium text-gray-600"},Z={class:"text-2xl font-bold text-gray-800 mt-1"},q={class:"text-sm mt-2 text-gray-600"},G={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},J={class:"flex justify-between items-start"},K={class:"text-sm font-medium text-gray-600"},P={class:"text-2xl font-bold text-gray-800 mt-1"},Q={class:"text-sm mt-2 text-gray-600"},Y={key:1,class:"flex justify-center items-center h-64"},tt={key:2,class:"text-red-500 text-center mb-6 animate-fade-in"},et={key:3,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},st={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl"},ot={class:"text-lg font-semibold text-gray-800 mb-4"},at={class:"overflow-x-auto"},rt={class:"w-full"},lt={class:"bg-gray-200"},nt={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},it={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},dt={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},ct={class:"bg-white divide-y divide-gray-200"},ht={class:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-800"},ut={class:"px-3 py-3 whitespace-nowrap text-sm text-gray-600"},_t={class:"px-3 py-3 whitespace-nowrap text-sm text-gray-600"},pt={key:0},mt={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},gt={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl"},xt={class:"text-lg font-semibold text-gray-800 mb-4"},vt={class:"overflow-x-auto"},yt={class:"w-full"},bt={class:"bg-gray-200"},wt={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},ft={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},kt={class:"px-3 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},$t={class:"bg-white divide-y divide-gray-200"},jt={class:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-800"},Ct={class:"px-3 py-3 whitespace-nowrap text-sm text-gray-600"},Bt={class:"px-3 py-3 whitespace-nowrap text-sm text-gray-600"},Mt={key:0},Vt={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},zt={key:4,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},Ft={class:"bg-white rounded-xl shadow-md p-6 lg:col-span-3 transition-all duration-300 hover:shadow-xl"},Ht={class:"text-lg font-semibold text-gray-800 mb-4"},Nt=w({__name:"Dashboard",setup(Dt){const{t:h}=f(),o=d(null),u=d(!0),c=d(null);d([]);const _=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),v=k(()=>{var s,r;return{labels:Object.keys(((s=o.value)==null?void 0:s.last_orders_count)||{}),datasets:[{label:h("control.orders_count"),data:Object.values(((r=o.value)==null?void 0:r.last_orders_count)||{}),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.05)",borderWidth:2,tension:.4,fill:!0}]}}),y=d({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#374151"}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"#e5e7eb"},ticks:{color:"#374151"}},x:{grid:{display:!1},ticks:{color:"#374151"}}},animation:{easing:"easeInOutCubic",duration:1500}}),b=async()=>{var s,r;u.value=!0,c.value=null;try{const a=await B.get("api/dashboard/warehouse/data");if(a.data.success)o.value=a.data.data;else throw new Error(a.data.message||h("control.error_fetching_data"))}catch(a){c.value=((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||h("control.error_fetching_data"),console.error("Error fetching dashboard data:",a)}finally{u.value=!1}};return $(()=>{b()}),(s,r)=>(l(),n("div",M,[t("div",V,[t("h1",z,e(s.$t("control.title")),1),t("p",F,e(s.$t("control.welcome_message")),1)]),o.value?(l(),n("div",H,[t("div",D,[t("div",E,[t("div",null,[t("p",N,e(s.$t("control.companies")),1),t("h3",O,e(o.value.company_count),1),t("p",I,e(s.$t("control.total_companies")),1)]),r[0]||(r[0]=t("div",{class:"bg-blue-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a2 2 0 012-2h2a2 2 0 012 2v5m-4 0h4"})])],-1))])]),t("div",S,[t("div",A,[t("div",null,[t("p",U,e(s.$t("control.categories")),1),t("h3",W,e(o.value.category_count),1),t("p",L,e(s.$t("control.total_categories")),1)]),r[1]||(r[1]=t("div",{class:"bg-green-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1))])]),t("div",R,[t("div",T,[t("div",null,[t("p",X,e(s.$t("control.orders")),1),t("h3",Z,e(o.value.order_count),1),t("p",q,e(s.$t("control.total_orders")),1)]),r[2]||(r[2]=t("div",{class:"bg-orange-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7l-2 2m0 0l-2-2m2 2V9"})])],-1))])]),t("div",G,[t("div",J,[t("div",null,[t("p",K,e(s.$t("control.invoices")),1),t("h3",P,e(o.value.invoice_count),1),t("p",Q,e(s.$t("control.total_invoices")),1)]),r[3]||(r[3]=t("div",{class:"bg-purple-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])])])):i("",!0),u.value?(l(),n("div",Y,[p(m(j),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])):i("",!0),c.value?(l(),n("div",tt,e(c.value),1)):i("",!0),o.value?(l(),n("div",et,[t("div",st,[t("h2",ot,e(s.$t("control.best_selling_products")),1),t("div",at,[t("table",rt,[t("thead",lt,[t("tr",null,[t("th",nt,e(s.$t("control.table.product_name")),1),t("th",it,e(s.$t("control.table.sold_units")),1),t("th",dt,e(s.$t("control.table.price")),1)])]),t("tbody",ct,[(l(!0),n(g,null,x(o.value.best_seller_product,a=>(l(),n("tr",{key:a.id,class:"hover:bg-gray-50 transition duration-200"},[t("td",ht,e(a.commercial_name),1),t("td",ut,e(a.total_sold),1),t("td",_t,e(_(parseFloat(a.price))),1)]))),128)),!o.value.best_seller_product||o.value.best_seller_product.length===0?(l(),n("tr",pt,[t("td",mt,e(s.$t("control.no_data_products")),1)])):i("",!0)])])])]),t("div",gt,[t("h2",xt,e(s.$t("control.best_performing_pharmacies")),1),t("div",vt,[t("table",yt,[t("thead",bt,[t("tr",null,[t("th",wt,e(s.$t("control.table.pharmacy")),1),t("th",ft,e(s.$t("control.table.orders")),1),t("th",kt,e(s.$t("control.table.total_spent")),1)])]),t("tbody",$t,[(l(!0),n(g,null,x(o.value.best_seller_pharmacy,a=>(l(),n("tr",{key:a.pharmacy_id,class:"hover:bg-gray-50 transition duration-200"},[t("td",jt,e(a.pharmacy.name),1),t("td",Ct,e(a.total_orders),1),t("td",Bt,e(_(parseFloat(a.total_spent))),1)]))),128)),!o.value.best_seller_pharmacy||o.value.best_seller_pharmacy.length===0?(l(),n("tr",Mt,[t("td",Vt,e(s.$t("control.no_data_pharmacies")),1)])):i("",!0)])])])])])):i("",!0),o.value?(l(),n("div",zt,[t("div",Ft,[t("h2",Ht,e(s.$t("control.monthly_orders_count")),1),p(m(C),{type:"line",data:v.value,options:y.value},null,8,["data","options"])])])):i("",!0)]))}});export{Nt as default};
