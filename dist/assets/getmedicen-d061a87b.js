import{_ as A,u as B,j as E,r as m,o as i,c as d,k as e,t,m as r,z as _,B as C,H as D,D as z,E as L,A as P}from"./index-abebc0c4.js";const R={class:"bg-gradient-to-br from-gray-100 to-gray-200 min-h-screen p-4 sm:p-6 md:p-8 font-sans"},T={class:"max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl p-6 sm:p-8"},V={class:"mb-8 text-center"},j={class:"text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight"},M={class:"mt-2 text-gray-600"},U={class:"flex flex-col sm:flex-row gap-4 mb-8"},W={key:0,class:"flex justify-center py-16"},I={key:1,class:"text-center py-16 bg-red-50 rounded-lg"},O={class:"mt-4 text-lg text-red-600 font-medium"},$={key:2,class:"p-6 bg-gray-50 rounded-lg"},H={class:"text-xl font-semibold text-gray-900 mb-4"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"space-y-3"},Z={class:"text-gray-900"},q={class:"text-gray-600"},F={class:"text-gray-900"},G={class:"text-gray-600"},J={class:"text-gray-900"},Q={class:"text-gray-600"},Y={class:"text-gray-900"},ee={class:"text-gray-600"},se={class:"text-gray-900"},te={class:"text-gray-600"},re={class:"text-gray-900"},ae={class:"text-gray-600"},oe={class:"text-gray-900"},ne={class:"text-gray-600"},ce={key:3,class:"text-center py-16"},le={class:"mt-4 text-lg text-gray-500 font-medium"},ie={__name:"getmedicen",setup(de){const{t:s}=B({missingWarn:!1,fallbackWarn:!1,messages:{en:{drugSearch:{title:"Drug Barcode Search",subtitle:"Enter a barcode to find drug information",enterBarcode:"Enter barcode",search:"Search",emptyBarcode:"Please enter a barcode",error:"An error occurred while fetching drug details",success:"Drug details retrieved successfully",details:"Drug Details",brandName:"Brand Name",manufacturer:"Manufacturer",description:"Description",color:"Color",shape:"Shape",size:"Size",packaging:"Packaging",empty:"No drug details available. Search with a barcode."},warning:"Warning",error:"Error",success:"Success"},ar:{drugSearch:{title:"البحث عن الأدوية باستخدام الباركود",subtitle:"أدخل الباركود للعثور على معلومات الدواء",enterBarcode:"أدخل الباركود",search:"بحث",emptyBarcode:"يرجى إدخال الباركود",error:"حدث خطأ أثناء جلب تفاصيل الدواء",success:"تم استرداد تفاصيل الدواء بنجاح",details:"تفاصيل الدواء",brandName:"اسم العلامة التجارية",manufacturer:"الشركة المصنعة",description:"الوصف",color:"اللون",shape:"الشكل",size:"الحجم",packaging:"التعبئة والتغليف",empty:"لا توجد تفاصيل للدواء متاحة. ابحث باستخدام الباركود."},warning:"تحذير",error:"خطأ",success:"نجاح"}}}),y=E(),n=m(""),a=m(null),u=m(!1),c=m(null),w=async()=>{var x,o,g,v,f,b;if(!n.value.trim()){y.add({severity:"warn",summary:s("warning"),detail:s("drugSearch.emptyBarcode"),life:3e3});return}u.value=!0,c.value=null,a.value=null;try{const l=`https://rxnav.nlm.nih.gov/REST/ndcproperties.json?id=${encodeURIComponent(n.value.trim())}`,k=await C.get(l);if(((o=(x=k.data.ndcPropertyList)==null?void 0:x.ndcProperty)==null?void 0:o.length)>0){const p=k.data.ndcPropertyList.ndcProperty[0],h=(((g=p.propertyConceptList)==null?void 0:g.propertyConcept)||[]).reduce((S,N)=>(S[N.propName]=N.propValue,S),{});a.value={brand_name:p.brandName||"Unknown",manufacturer_name:h.LABELER||"Unknown",description:p.synonym||"No description available",color:h.COLORTEXT||"N/A",shape:h.SHAPETEXT||"N/A",size:h.SIZE||"N/A",packaging:((f=(v=p.packagingList)==null?void 0:v.packaging)==null?void 0:f[0])||"N/A"},y.add({severity:"success",summary:s("success"),detail:s("drugSearch.success"),life:3e3})}else throw new Error("No matches found!")}catch(l){c.value={code:((b=l.response)==null?void 0:b.status)||"UNKNOWN_ERROR",message:l.message||s("drugSearch.error")},y.add({severity:"error",summary:s("error"),detail:c.value.message,life:3e3}),console.error("Error fetching drug details:",l)}finally{u.value=!1}};return(x,o)=>(i(),d("div",R,[e("div",T,[e("div",V,[e("h2",j,t(r(s)("drugSearch.title")),1),e("p",M,t(r(s)("drugSearch.subtitle")),1)]),e("div",U,[_(r(D),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=g=>n.value=g),placeholder:r(s)("drugSearch.enterBarcode"),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,8,["modelValue","placeholder"]),_(r(z),{label:r(s)("drugSearch.search"),icon:"pi pi-search",loading:u.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",disabled:!n.value.trim(),onClick:w},null,8,["label","loading","disabled"])]),u.value?(i(),d("div",W,[_(r(L),{style:{width:"60px",height:"60px"},strokeWidth:"4",class:"text-indigo-500"})])):c.value?(i(),d("div",I,[o[1]||(o[1]=e("svg",{class:"mx-auto w-16 h-16 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",O,t(c.value.message||r(s)("drugSearch.error")),1)])):a.value?(i(),d("div",$,[e("h3",H,t(r(s)("drugSearch.details")),1),e("div",X,[e("div",K,[e("p",null,[e("strong",Z,t(r(s)("drugSearch.brandName"))+":",1),e("span",q,t(a.value.brand_name||"N/A"),1)]),e("p",null,[e("strong",F,t(r(s)("drugSearch.manufacturer"))+":",1),e("span",G,t(a.value.manufacturer_name||"N/A"),1)]),e("p",null,[e("strong",J,t(r(s)("drugSearch.description"))+":",1),e("span",Q,t(a.value.description||"N/A"),1)]),e("p",null,[e("strong",Y,t(r(s)("drugSearch.color"))+":",1),e("span",ee,t(a.value.color||"N/A"),1)]),e("p",null,[e("strong",se,t(r(s)("drugSearch.shape"))+":",1),e("span",te,t(a.value.shape||"N/A"),1)]),e("p",null,[e("strong",re,t(r(s)("drugSearch.size"))+":",1),e("span",ae,t(a.value.size||"N/A"),1)]),e("p",null,[e("strong",oe,t(r(s)("drugSearch.packaging"))+":",1),e("span",ne,t(a.value.packaging||"N/A"),1)])])])])):(i(),d("div",ce,[o[2]||(o[2]=e("svg",{class:"mx-auto w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5v4m0 4v4m0-8h6m-6 0H3"})],-1)),e("p",le,t(r(s)("drugSearch.empty")),1)])),_(r(P))])]))}},pe=A(ie,[["__scopeId","data-v-7d74be09"]]);export{pe as default};
