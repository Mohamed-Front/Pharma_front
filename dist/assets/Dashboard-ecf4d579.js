import{T as w,u as j,r as l,g as x,d as f,o as d,c as n,k as t,t as s,y as h,z as u,m as _,E as M,D as v,X as y,F as z,x as I,l as S,B as V,_ as F}from"./index-a2c89516.js";const A={class:"min-h-screen bg-gray-100 p-4 md:p-6"},E={class:"mb-6 animate-fade-in"},H={class:"font-bold text-gray-800 mb-2",style:{"font-size":"clamp(1rem, 2vw + .5rem, 1.8rem)"}},N={class:"text-gray-600",style:{"font-size":"clamp(.4rem, 2vw + .3rem, 1rem)"}},W={key:0,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-6"},J={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},P={class:"flex justify-between items-start"},U={class:"text-sm font-medium text-gray-600"},Z={class:"text-2xl font-bold text-gray-800 mt-1"},G={class:"text-sm mt-2 text-gray-600"},L={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},T={class:"flex justify-between items-start"},X={class:"text-sm font-medium text-gray-600"},K={class:"text-2xl font-bold text-gray-800 mt-1"},Q={class:"text-sm mt-2 text-gray-600"},Y={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},tt={class:"flex justify-between items-start"},et={class:"text-sm font-medium text-gray-600"},st={class:"text-2xl font-bold text-gray-800 mt-1"},at={class:"text-sm mt-2 text-gray-600"},ot={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl hover:scale-105"},rt={class:"flex justify-between items-start"},dt={class:"text-sm font-medium text-gray-600"},nt={class:"text-2xl font-bold text-gray-800 mt-1"},lt={class:"text-sm mt-2 text-gray-600"},it={key:1,class:"flex justify-center items-center h-64"},ct={key:2,class:"text-red-500 text-center mb-6 animate-fade-in"},ut={key:3,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},ht={class:"bg-white rounded-xl shadow-md p-6 lg:col-span-2 transition-all duration-300 hover:shadow-xl"},_t={class:"flex justify-between items-center mb-4"},pt={class:"text-lg font-semibold text-gray-800"},mt={class:"flex space-x-2"},bt={class:"bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-xl"},gt={class:"text-lg font-semibold text-gray-800 mb-4"},xt={key:4,class:"bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl"},vt={class:"p-6"},yt={class:"text-lg font-semibold text-gray-800 mb-4"},wt={class:"overflow-x-auto"},ft={class:"w-full"},kt={class:"bg-gray-200 sticky top-0"},$t={class:"px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},Dt={class:"px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},Ct={class:"px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},Bt={class:"px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},Rt={class:"px-6 py-3 text-xs font-medium text-gray-600 uppercase tracking-wider"},qt={class:"bg-white divide-y divide-gray-200 custom-scrollbar overflow-auto h-[300px] block"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},It={class:"px-6 py-4 whitespace-nowrap"},St={class:"px-6 py-3 bg-white text-right"},Vt=w({__name:"DashboardInfoBlock",setup(k){const{t:c}=j(),r=l(null),m=l(!0),p=l(null),$=l([{id:"ORD1001",customer:"James Smith",date:"2025-10-01",amount:45.99,status:"Delivered"},{id:"ORD1002",customer:"Maria Garcia",date:"2025-10-02",amount:89.5,status:"Processing"},{id:"ORD1003",customer:"Robert Johnson",date:"2025-10-03",amount:120.75,status:"Delivered"},{id:"ORD1004",customer:"Sarah Williams",date:"2025-10-04",amount:32.25,status:"Cancelled"},{id:"ORD1005",customer:"David Brown",date:"2025-10-05",amount:67.8,status:"Delivered"}]),D=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),C=e=>{switch(e){case"Delivered":return"bg-green-100 text-green-800";case"Processing":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=x(()=>{var e,a,o,g;return{labels:[...((e=r.value)==null?void 0:e.pharmacyRequest_by_status_counts.map(i=>i.status_description))||[],...((a=r.value)==null?void 0:a.warehouseRequest_by_status_counts.map(i=>i.status_description))||[]],datasets:[{label:c("dashboard.pharmacy_requests"),data:((o=r.value)==null?void 0:o.pharmacyRequest_by_status_counts.map(i=>i.pharmacy_request_count))||[],backgroundColor:"#3B82F6",borderRadius:4},{label:c("dashboard.warehouse_requests"),data:((g=r.value)==null?void 0:g.warehouseRequest_by_status_counts.map(i=>i.warehouse_request_count))||[],backgroundColor:"#10B981",borderRadius:4}]}}),R=x(()=>{var e,a;return{labels:Object.keys(((e=r.value)==null?void 0:e.last_orders_count)||{}),datasets:[{label:c("dashboard.orders_count"),data:Object.values(((a=r.value)==null?void 0:a.last_orders_count)||{}),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.05)",borderWidth:2,tension:.4,fill:!0}]}}),q=l({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#374151"}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"#e5e7eb"},ticks:{color:"#374151"}},x:{grid:{display:!1},ticks:{color:"#374151"}}},animation:{easing:"easeInOutCubic",duration:1500}}),O=l({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#374151"}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"#e5e7eb"},ticks:{color:"#374151"}},x:{grid:{display:!1},ticks:{color:"#374151"}}},animation:{easing:"easeOutBounce",duration:1500}}),b=async()=>{var e,a;m.value=!0,p.value=null;try{const o=await V.get("https://backend.pharmabank.sy/api/dashboard/admin/data");if(o.data.success)r.value=o.data.data;else throw new Error(o.data.message||c("dashboard.error_fetching_data"))}catch(o){p.value=((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||c("dashboard.error_fetching_data"),console.error("Error fetching dashboard data:",o),r.value={company_count:2,scientific_structure_count:1,category_count:4,pharmacy_count:2,warehouse_count:3,pharmacyRequest_by_status_counts:[{status:1,pharmacy_request_count:1,status_description:"active"}],warehouseRequest_by_status_counts:[{status:1,warehouse_request_count:2,status_description:"active"}],last_orders_count:{"Oct-2025":5}}}finally{m.value=!1}};return f(()=>{b()}),(e,a)=>(d(),n("div",A,[t("div",E,[t("h1",H,s(e.$t("dashboard.title")),1),t("p",N,s(e.$t("dashboard.welcome_message")),1)]),r.value?(d(),n("div",W,[t("div",J,[t("div",P,[t("div",null,[t("p",U,s(e.$t("dashboard.companies")),1),t("h3",Z,s(r.value.company_count),1),t("p",G,s(e.$t("dashboard.total_companies")),1)]),a[0]||(a[0]=t("div",{class:"bg-blue-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a2 2 0 012-2h2a2 2 0 012 2v5m-4 0h4"})])],-1))])]),t("div",L,[t("div",T,[t("div",null,[t("p",X,s(e.$t("dashboard.pharmacies")),1),t("h3",K,s(r.value.pharmacy_count),1),t("p",Q,s(e.$t("dashboard.total_pharmacies")),1)]),a[1]||(a[1]=t("div",{class:"bg-green-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),t("div",Y,[t("div",tt,[t("div",null,[t("p",et,s(e.$t("dashboard.warehouses")),1),t("h3",st,s(r.value.warehouse_count),1),t("p",at,s(e.$t("dashboard.total_warehouses")),1)]),a[2]||(a[2]=t("div",{class:"bg-orange-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])],-1))])]),t("div",ot,[t("div",rt,[t("div",null,[t("p",dt,s(e.$t("dashboard.categories")),1),t("h3",nt,s(r.value.category_count),1),t("p",lt,s(e.$t("dashboard.total_categories")),1)]),a[3]||(a[3]=t("div",{class:"bg-purple-100 p-3 rounded-lg animate-pulse-slow"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1))])])])):h("",!0),m.value?(d(),n("div",it,[u(_(M),{style:{width:"50px",height:"50px"},strokeWidth:"4"})])):h("",!0),p.value?(d(),n("div",ct,s(p.value),1)):h("",!0),r.value?(d(),n("div",ut,[t("div",ht,[t("div",_t,[t("h2",pt,s(e.$t("dashboard.request_status")),1),t("div",mt,[u(_(v),{class:"p-button-sm p-button-text",label:e.$t("dashboard.refresh"),icon:"pi pi-refresh",onClick:b},null,8,["label"])])]),u(_(y),{type:"bar",data:B.value,options:O.value},null,8,["data","options"])]),t("div",bt,[t("h2",gt,s(e.$t("dashboard.orders_count")),1),u(_(y),{type:"line",data:R.value,options:q.value},null,8,["data","options"])])])):h("",!0),r.value?(d(),n("div",xt,[t("div",vt,[t("h2",yt,s(e.$t("dashboard.recent_orders")),1)]),t("div",wt,[t("table",ft,[t("thead",kt,[t("tr",null,[t("th",$t,s(e.$t("dashboard.table.order_id")),1),t("th",Dt,s(e.$t("dashboard.table.customer")),1),t("th",Ct,s(e.$t("dashboard.table.date")),1),t("th",Bt,s(e.$t("dashboard.table.amount")),1),t("th",Rt,s(e.$t("dashboard.table.status")),1)])]),t("tbody",qt,[(d(!0),n(z,null,I($.value,o=>(d(),n("tr",{key:o.id,class:"hover:bg-gray-50 transition duration-200 display-table w-full table-fixed"},[t("td",Ot,"#"+s(o.id),1),t("td",jt,s(o.customer),1),t("td",Mt,s(o.date),1),t("td",zt,s(D(o.amount)),1),t("td",It,[t("span",{class:S(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C(o.status)}`)},s(o.status),3)])]))),128))])])]),t("div",St,[u(_(v),{class:"p-button-sm p-button-text",label:e.$t("dashboard.view_all"),icon:"pi pi-arrow-right"},null,8,["label"])])])):h("",!0)]))}});const Ft=F(Vt,[["__scopeId","data-v-4e9a2d25"]]),At={class:"dashboard"},Ht=w({__name:"Dashboard",setup(k){return l(),l(),f(()=>{}),(c,r)=>(d(),n("div",At,[u(Ft)]))}});export{Ht as default};
