import{_ as U,u as G,z as L,a as O,r as o,a7 as Q,m as W,o as Z,d as c,a8 as q,Z as B,e as g,h as _,g as a,i as d,w as p,f as H,t as l,j as r,F as J,y as K,C as X,a9 as Y,b as ee,B as P,A as ae}from"./index-2cd76906.js";const te={class:"grid"},oe={class:"col-12"},se={class:"p-4 card shadow-2 border-round"},ne={class:"text-2xl font-bold"},le={class:"flex gap-2"},ie={class:"p-input-icon-left"},re={class:"card shadow-1 surface-0"},de=["src"],ce={key:1},pe={class:"py-4 text-center"},ue={class:"text-xl"},ge={class:"flex py-4 justify-content-center align-items-center"},_e={key:0,class:"mt-3 p-paginator p-component p-unselectable-text"},me={class:"p-paginator-left-content"},ve={class:"p-paginator-current"},he={class:"p-paginator-right-content"},fe={class:"p-paginator-pages"},ye=["disabled"],be=["disabled"],xe=["onClick"],we=["disabled"],ke=["disabled"],Ce={class:"p-paginator-rpp-options"},Te={__name:"categories",setup(Ve){const{t:n}=G();L();const I=O(),h=o(!0);o("");const w=o(null);o(!1),o(!1),o(!1),o(null);const k=o(null),C=o({}),f=o("");o({name_en:"",name_ar:"",date:"",category_image:null}),o(null),o({name_en:!1,name_ar:!1,date:!1,category_image:!1});const i=o(1),b=o(0),m=o(10),u=o(0),T=o(0),V=o(0),N=()=>{k.value.exportCSV()},R=()=>{C.value={global:{value:null,matchMode:Y.CONTAINS}}};Q(()=>{R()});const y=()=>{h.value=!0,ee.get("/api/pharmacy-home/get/categories",{params:{page:i.value,limit:m.value,search:f.value}}).then(s=>{h.value=!1,w.value=s.data.data,b.value=s.data.pagination.total,u.value=s.data.pagination.last_page,T.value=s.data.pagination.from,V.value=s.data.pagination.to}).catch(s=>{h.value=!1,I.add({severity:"error",summary:n("error"),detail:n("category.loadError"),life:3e3}),console.error("Error fetching data:",s)})};W(f,()=>{i.value=1,y()});const v=s=>{s>=1&&s<=u.value&&(i.value=s,y())},S=s=>{m.value=s.value,i.value=1,y()};return Z(()=>{y()}),(s,e)=>{const M=c("InputText"),$=c("Button"),F=c("Toolbar"),E=c("Toast"),x=c("Column"),j=c("ProgressSpinner"),z=c("DataTable"),A=c("Dropdown"),D=q("can");return B((g(),_("div",te,[a("div",oe,[a("div",se,[d(F,{class:"mb-4"},{start:p(()=>[a("h2",ne,l(r(n)("categories")),1)]),end:p(()=>[a("div",le,[a("span",ie,[e[6]||(e[6]=a("i",{class:"pi pi-search"},null,-1)),d(M,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t)},null,8,["modelValue"])]),d($,{label:r(n)("category.export"),icon:"pi pi-upload",class:"p-export",onClick:N},null,8,["label"])])]),_:1}),d(E),a("div",re,[B((g(),H(z,{ref_key:"dt",ref:k,value:w.value,loading:h.value,"data-key":"id",paginator:!1,rows:m.value,filters:C.value,totalRecords:b.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:p(()=>[a("div",pe,[e[7]||(e[7]=a("i",{class:"mb-2 text-2xl pi pi-exclamation-circle"},null,-1)),a("p",ue,l(r(n)("category.noData")),1)])]),loading:p(()=>[a("div",ge,[d(j,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:p(()=>[d(x,{field:"name_en",header:r(n)("category.name_en"),sortable:!0,"header-style":"width:20%; min-width:12rem;"},{body:p(t=>[P(l(t.data.name_en),1)]),_:1},8,["header"]),d(x,{field:"name_ar",header:r(n)("category.name_ar"),sortable:!0,"header-style":"width:20%; min-width:12rem;"},{body:p(t=>[P(l(t.data.name_ar),1)]),_:1},8,["header"]),d(x,{field:"category_image",header:r(n)("category.image"),"header-style":"width:10%; min-width:8rem;"},{body:p(t=>[t.data.media?(g(),_("img",{key:0,src:t.data.media[0].url,alt:"Category Image",style:{width:"50px",height:"auto"}},null,8,de)):(g(),_("span",ce,l(r(n)("category.noImage")),1))]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[D,"list categories"]]),u.value>0?(g(),_("div",_e,[a("div",me,[a("span",ve,l(r(n)("showing"))+" "+l(T.value)+" "+l(r(n)("to"))+" "+l(V.value)+" "+l(r(n)("of"))+" "+l(b.value)+" "+l(r(n)("entries")),1)]),a("div",he,[a("span",fe,[a("button",{class:"p-paginator-first p-paginator-element p-link",disabled:i.value===1,onClick:e[1]||(e[1]=t=>v(1))},[...e[8]||(e[8]=[a("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)])],8,ye),a("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:i.value===1,onClick:e[2]||(e[2]=t=>v(i.value-1))},[...e[9]||(e[9]=[a("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)])],8,be),(g(!0),_(J,null,K(u.value,t=>(g(),_("button",{key:t,class:ae(["p-paginator-page p-paginator-element p-link",{"p-highlight":i.value===t}]),onClick:De=>v(t)},l(t),11,xe))),128)),a("button",{class:"p-paginator-next p-paginator-element p-link",disabled:i.value===u.value,onClick:e[3]||(e[3]=t=>v(i.value+1))},[...e[10]||(e[10]=[a("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)])],8,we),a("button",{class:"p-paginator-last p-paginator-element p-link",disabled:i.value===u.value,onClick:e[4]||(e[4]=t=>v(u.value))},[...e[11]||(e[11]=[a("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)])],8,ke)]),a("span",Ce,[d(A,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=t=>m.value=t),options:[5,10,20,30],onChange:S,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])])):X("",!0)])])])])),[[D,"list categories"]])}}},Pe=U(Te,[["__scopeId","data-v-e357899d"]]);export{Pe as default};
