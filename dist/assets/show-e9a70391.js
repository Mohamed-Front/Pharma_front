import{_ as j,u as F,J as D,i as B,j as z,r as v,g as y,d as $,$ as A,o as i,c,k as e,M as I,m as a,z as h,t,s as f,y as g,F as L,x as M,v as O,B as S,D as V,a7 as W,a8 as E,l as T}from"./index-a2c89516.js";import{x as J,A as Z,O as K}from"./index.es-28da8cff.js";const Q={class:"min-h-screen bg-gray-100"},U={class:"bg-white shadow-sm"},Y={class:"container mx-auto px-4 py-6"},G={class:"flex items-center gap-4"},H={class:"text-3xl font-bold text-gray-800"},P={class:"container mx-auto px-4 py-8"},X={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2"},se={class:"bg-white rounded-xl shadow-lg p-6"},te={class:"text-xl font-semibold text-gray-800 mb-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oe={class:"space-y-4"},le={class:"field"},ne={class:"block text-sm font-medium text-gray-700"},ie={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ce={class:"field"},re={class:"block text-sm font-medium text-gray-700"},de={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ue={class:"field"},_e={class:"block text-sm font-medium text-gray-700"},he={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ge={class:"space-y-4"},me={class:"field"},ve={class:"block text-sm font-medium text-gray-700"},pe={class:"field"},xe={class:"block text-sm font-medium text-gray-700"},ye={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},fe={class:"field"},be={class:"block text-sm font-medium text-gray-700"},we={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},ke={class:"col-span-1 md:col-span-2"},Re={class:"field"},qe={class:"block text-sm font-medium text-gray-700"},Ne={class:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-md"},Ce={key:0,class:"field"},je={class:"block text-sm font-medium text-gray-700"},Fe={class:"mt-1 text-red-600 bg-red-50 p-3 rounded-md"},De={class:"lg:col-span-1"},Be={class:"bg-white rounded-xl shadow-lg p-6 h-full"},ze={class:"text-xl font-semibold text-gray-800 mb-6"},$e={key:0},Ae={class:"relative rounded-lg overflow-hidden mb-4",style:{height:"150px","background-color":"#f5f5f5"}},Ie=["src","alt"],Le={class:"flex gap-3 overflow-x-auto pb-3"},Me=["onClick"],Oe=["src","alt"],Se={class:"mt-4"},Ve={class:"font-semibold text-gray-700"},We={class:"text-gray-600 capitalize"},Ee={key:1,class:"flex flex-col items-center justify-center py-8 text-gray-500"},Te={class:"lg:col-span-3"},Je={class:"bg-white rounded-xl shadow-lg p-6"},Ze={class:"text-xl font-semibold text-gray-800 mb-6"},Ke={class:"rounded-lg overflow-hidden",style:{height:"300px"}},Qe={__name:"show",setup(Ue){const{t:o}=F(),b=D(),w=B(),k=z(),u=v(!0),s=v(null),r=v(0),R=async()=>{try{u.value=!0;const l=await S.get(`/api/warehouse-request/${b.params.id}`);s.value=l.data.data,u.value=!1}catch{u.value=!1,k.add({severity:"error",summary:o("error"),detail:o("warehouseRequest.loadError"),life:3e3})}},p=y(()=>{if(s.value&&s.value.lat&&s.value.long&&s.value.distance){const l=parseFloat(s.value.lat),n=parseFloat(s.value.long),d=Number(s.value.distance);return isNaN(l)||isNaN(n)||isNaN(d)?null:{center:{lat:l,lng:n},radius:d,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}}return null}),q=l=>{const n=l.latLng,d=n.lat(),_=n.lng();console.log("Clicked coordinates:",d,_)},x=y(()=>{if(s.value&&s.value.lat&&s.value.long){const l=parseFloat(s.value.lat),n=parseFloat(s.value.long);return isNaN(l)||isNaN(n)?{lat:0,lng:0}:{lat:l,lng:n}}return{lat:0,lng:0}}),N=l=>{switch(l){case"active":return"success";case"pending":return"warning";case"rejected":return"danger";default:return"danger"}},C=()=>{w.go(-1)};return $(()=>{R()}),(l,n)=>{const d=A("tooltip");return i(),c("div",Q,[e("div",U,[e("div",Y,[e("div",G,[I(h(a(V),{icon:"pi pi-arrow-left",class:"p-button-text p-button-rounded p-button-lg",onClick:C},null,512),[[d,a(o)("back"),void 0,{right:!0}]]),e("h1",H,t(a(o)("warehouseRequest.detailsTitle")),1)])])]),e("div",P,[u.value?(i(),f(a(W),{key:0,mode:"indeterminate",class:"mb-6 rounded-lg",style:{height:"6px"}})):g("",!0),!u.value&&s.value?(i(),c("div",X,[e("div",ee,[e("div",se,[e("h2",te,t(a(o)("warehouseRequest.information")),1),e("div",ae,[e("div",oe,[e("div",le,[e("label",ne,t(a(o)("warehouseRequest.number")),1),e("p",ie,t(s.value.number),1)]),e("div",ce,[e("label",re,t(a(o)("warehouseRequest.name")),1),e("p",de,t(s.value.name),1)]),e("div",ue,[e("label",_e,t(a(o)("warehouseRequest.email")),1),e("p",he,t(s.value.email),1)])]),e("div",ge,[e("div",me,[e("label",ve,t(a(o)("warehouseRequest.status")),1),h(a(E),{value:s.value.status_description,severity:N(s.value.status_description),class:"mt-1 px-4 py-2 text-sm"},null,8,["value","severity"])]),e("div",pe,[e("label",xe,t(a(o)("warehouseRequest.latitude")),1),e("p",ye,t(s.value.lat),1)]),e("div",fe,[e("label",be,t(a(o)("warehouseRequest.longitude")),1),e("p",we,t(s.value.long),1)])]),e("div",ke,[e("div",Re,[e("label",qe,t(a(o)("warehouseRequest.address")),1),e("p",Ne,t(s.value.address),1)]),s.value.rejected_message?(i(),c("div",Ce,[e("label",je,t(a(o)("warehouseRequest.rejectionReason")),1),e("p",Fe,t(s.value.rejected_message),1)])):g("",!0)])])])]),e("div",De,[e("div",Be,[e("h2",ze,t(a(o)("warehouseRequest.documents")),1),s.value.media&&s.value.media.length>0?(i(),c("div",$e,[e("div",Ae,[e("img",{src:s.value.media[r.value].url,alt:s.value.media[r.value].name,class:"w-full h-full object-contain transition-transform duration-300"},null,8,Ie)]),e("div",Le,[(i(!0),c(L,null,M(s.value.media,(_,m)=>(i(),c("div",{key:_.id,onClick:Ye=>r.value=m,class:T(["cursor-pointer rounded-lg overflow-hidden flex-shrink-0 border-2 transition-all duration-300",{"border-green-500":r.value===m,"border-transparent":r.value!==m}]),style:{width:"100px",height:"100px"}},[e("img",{src:_.url,alt:_.name,class:"w-full h-full object-cover"},null,8,Oe)],10,Me))),128))]),e("div",Se,[e("p",Ve,t(a(o)("warehouseRequest.documentType"))+":",1),e("p",We,t(s.value.media[r.value].name.replace(/_/g," ")),1)])])):(i(),c("div",Ee,[n[0]||(n[0]=e("i",{class:"pi pi-image text-5xl mb-3"},null,-1)),e("p",null,t(a(o)("warehouseRequest.noDocuments")),1)]))])]),e("div",Te,[e("div",Je,[e("h2",Ze,t(a(o)("warehouseRequest.location")),1),e("div",Ke,[h(a(K),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",style:{width:"100%",height:"100%"},center:x.value,zoom:14,onClick:q},{default:O(()=>[h(a(J),{options:{position:x.value}},null,8,["options"]),p.value?(i(),f(a(Z),{key:0,options:p.value},null,8,["options"])):g("",!0)]),_:1},8,["center"])])])])])):g("",!0)])])}}},Pe=j(Qe,[["__scopeId","data-v-b42a049e"]]);export{Pe as default};
