import{_ as U,u as G,z as L,a as O,r as t,a7 as Q,m as W,o as Z,d as p,a8 as q,Z as w,e as _,h as b,g as a,i as d,w as u,f as H,t as n,j as r,F as J,y as K,C as X,B as k,a9 as Y,b as ee,A as ae}from"./index-2cd76906.js";const te={class:"grid"},oe={class:"col-12"},se={class:"p-4 card shadow-2 border-round"},ne={class:"text-2xl font-bold"},le={class:"flex gap-2"},ie={class:"p-input-icon-left"},re={class:"card shadow-1 surface-0"},pe={class:"py-4 text-center"},de={class:"text-xl"},ce={class:"flex py-4 justify-content-center align-items-center"},ue={key:0,class:"mt-3 p-paginator p-component p-unselectable-text"},me={class:"p-paginator-left-content"},ve={class:"p-paginator-current"},_e={class:"p-paginator-right-content"},ge={class:"p-paginator-pages"},fe=["disabled"],he=["disabled"],be=["onClick"],xe=["disabled"],ye=["disabled"],we={class:"p-paginator-rpp-options"},ke={__name:"companies",setup(Ce){const{t:l}=G();L();const N=O(),g=t(!0);t("");const C=t(null);t(!1),t(!1),t(!1),t(null);const T=t(null),V=t({}),f=t("");t({name:"",date:""}),t(null),t({name:!1,date:!1});const i=t(1),x=t(0),m=t(10),c=t(0),D=t(0),P=t(0),R=()=>{T.value.exportCSV()},S=()=>{V.value={global:{value:null,matchMode:Y.CONTAINS}}};Q(()=>{S()});const h=()=>{g.value=!0,ee.get("/api/pharmacy-home/get/companies",{params:{page:i.value,limit:m.value,search:f.value}}).then(s=>{g.value=!1,C.value=s.data.data,x.value=s.data.pagination.total,c.value=s.data.pagination.last_page,D.value=s.data.pagination.from,P.value=s.data.pagination.to}).catch(s=>{g.value=!1,N.add({severity:"error",summary:l("error"),detail:l("company.loadError"),life:3e3}),console.error("Error fetching data:",s)})};W(f,()=>{i.value=1,h()});const v=s=>{s>=1&&s<=c.value&&(i.value=s,h())},I=s=>{m.value=s.value,i.value=1,h()};return Z(()=>{h()}),(s,e)=>{const M=p("InputText"),$=p("Button"),F=p("Toolbar"),E=p("Toast"),B=p("Column"),j=p("ProgressSpinner"),z=p("DataTable"),A=p("Dropdown"),y=q("can");return w((_(),b("div",te,[a("div",oe,[a("div",se,[d(F,{class:"mb-4"},{start:u(()=>[a("h2",ne,n(r(l)("companies")),1)]),end:u(()=>[a("div",le,[a("span",ie,[e[6]||(e[6]=a("i",{class:"pi pi-search"},null,-1)),d(M,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o)},null,8,["modelValue"])]),w(d($,{label:r(l)("company.export"),icon:"pi pi-upload",class:"p-export",onClick:R},null,8,["label"]),[[y,"create companies"]])])]),_:1}),d(E),a("div",re,[w((_(),H(z,{ref_key:"dt",ref:T,value:C.value,loading:g.value,"data-key":"id",paginator:!1,rows:m.value,filters:V.value,totalRecords:x.value,"responsive-layout":"scroll",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{empty:u(()=>[a("div",pe,[e[7]||(e[7]=a("i",{class:"mb-2 text-2xl pi pi-exclamation-circle"},null,-1)),a("p",de,n(r(l)("company.noData")),1)])]),loading:u(()=>[a("div",ce,[d(j,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:u(()=>[d(B,{field:"name",header:r(l)("company.id"),sortable:!0,"header-style":"width:20%; min-width:12rem;"},{body:u(o=>[k(n(o.data.id),1)]),_:1},8,["header"]),d(B,{field:"name",header:r(l)("company.name"),sortable:!0,"header-style":"width:20%; min-width:12rem;"},{body:u(o=>[k(n(o.data.name),1)]),_:1},8,["header"])]),_:1},8,["value","loading","rows","filters","totalRecords"])),[[y,"list companies"]]),c.value>0?(_(),b("div",ue,[a("div",me,[a("span",ve,n(r(l)("showing"))+" "+n(D.value)+" "+n(r(l)("to"))+" "+n(P.value)+" "+n(r(l)("of"))+" "+n(x.value)+" "+n(r(l)("entries")),1)]),a("div",_e,[a("span",ge,[a("button",{class:"p-paginator-first p-paginator-element p-link",disabled:i.value===1,onClick:e[1]||(e[1]=o=>v(1))},[...e[8]||(e[8]=[a("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1)])],8,fe),a("button",{class:"p-paginator-prev p-paginator-element p-link",disabled:i.value===1,onClick:e[2]||(e[2]=o=>v(i.value-1))},[...e[9]||(e[9]=[a("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1)])],8,he),(_(!0),b(J,null,K(c.value,o=>(_(),b("button",{key:o,class:ae(["p-paginator-page p-paginator-element p-link",{"p-highlight":i.value===o}]),onClick:Te=>v(o)},n(o),11,be))),128)),a("button",{class:"p-paginator-next p-paginator-element p-link",disabled:i.value===c.value,onClick:e[3]||(e[3]=o=>v(i.value+1))},[...e[10]||(e[10]=[a("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1)])],8,xe),a("button",{class:"p-paginator-last p-paginator-element p-link",disabled:i.value===c.value,onClick:e[4]||(e[4]=o=>v(c.value))},[...e[11]||(e[11]=[a("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1)])],8,ye)]),a("span",we,[d(A,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=o=>m.value=o),options:[5,10,20,30],onChange:I,class:"ml-2",style:{width:"100px"}},null,8,["modelValue"])])])])):X("",!0)]),e[12]||(e[12]=k("> ",-1))])])])),[[y,"list companies"]])}}},De=U(ke,[["__scopeId","data-v-cb0fddab"]]);export{De as default};
